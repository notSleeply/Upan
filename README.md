# Upan 程序说明

## 功能描述

该程序用于监测系统中 U 盘的插拔情况，当检测到可移动磁盘（U 盘）插入时，会递归遍历 U 盘中的所有文件（忽略以.开头的文件夹），并将文件复制到本地的 C:\Users\Public\Documents\ 目录下（若文件已存在则覆盖）。

- 程序运行时会隐藏控制台窗口，在后台执行监测和文件复制操作。

## 编译说明

### 编译命令：

`g++ Upan.cpp -o Upan.exe -mwindows -luser32`

- -mwindows 选项用于生成 Windows GUI 程序，避免额外的控制台窗口显示

- -luser32 用于链接 Windows 用户界面相关的库（提供GetConsoleWindow等函数支持）

## 运行机制

1. 程序启动后会立即隐藏控制台窗口

1. 进入循环监测状态，每秒检查一次系统中的逻辑驱动器

1. 当检测到可移动磁盘（U 盘）时：

- 递归遍历该磁盘中的所有文件

- 跳过以.开头的文件夹（通常是系统隐藏文件夹）

- 将所有文件复制到 C:\Users\Public\Documents\ 目录

- 完成复制后程序退出

## 注意事项

- 程序仅在检测到第一个可移动磁盘后执行一次复制操作并退出

- 复制操作会覆盖目标目录中已存在的同名文件

- 运行需要相应的文件系统访问权限，尤其是对目标目录和 U 盘的读写权限

- 该程序仅适用于 Windows 系统
